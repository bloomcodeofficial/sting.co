"use strict";(()=>{window.fsAttributes=window.fsAttributes||[];window.fsAttributes.push(["cmsload",async e=>{let n=e[0];if(!n)return;let o=n.items[0].element,c=await F();n.clearItems();let f=c.map(d=>g(d,o));f&&(n.addItems(f),window.fsAttributes.push(["cmsfilter",async d=>{var y,h;let[l]=d,r=(y=l.form.querySelector('[data-element="experience-filter"]'))==null?void 0:y.parentElement,s=(h=l.form.querySelector('[data-element="job-function-filter"]'))==null?void 0:h.parentElement,a=l.form.querySelector('[data-element="location-filter"]').parentElement,w=r==null?void 0:r.parentElement,m=s==null?void 0:s.parentElement,u=a==null?void 0:a.parentElement;r==null||r.remove(),s==null||s.remove(),a==null||a.remove();let x=I(c,"experience"),C=I(c,"function"),S=b(c);for(let p of x){let i=q(p,r);i&&(w==null||w.append(i))}for(let p of C){let i=q(p,s);i&&(m==null||m.append(i))}for(let p of S){let i=q(p,a);i&&(u==null||u.append(i))}l.storeFiltersData()}]))}]);var F=async()=>{try{return await(await fetch("https://feed.jobylon.com/feeds/a23d1a2b-647c-4497-b36b-1555efaba88f/?format=json")).json()}catch{return[]}},g=(e,n)=>{let t=n.cloneNode(!0),o=t.querySelector('[data-element="logo"]'),c=t.querySelector('[data-element="title"]'),f=t.querySelector('[data-element="company"]'),d=t.querySelector('[data-element="location"]'),l=t.querySelector('[data-element="level"]'),r=t.querySelector('[data-element="type"]'),s=t.querySelector('[data-element="job-function"]'),a=t.querySelector('[data-element="link"]');return(()=>{let m=v(e),u=d.parentElement,x=u.parentElement;u.remove(),m.forEach(C=>{let S=u.cloneNode(!0),y=S.querySelector('[data-element="location"]');y&&(y.textContent=C),x.append(S)})})(),o&&(o.src=e.company.logo),c&&(c.textContent=e.title),f&&(f.textContent=e.company.name),l&&(l.textContent=e.experience),r&&(r.textContent=e.employment_type),s&&(s.textContent=e.function),a&&(a.href=e.urls.ad),t},I=function(e,n){let t=new Set;for(let o of e)t.add(o[n]);return[...t]},b=function(e){let n=new Set;return e.forEach(t=>{t.locations.forEach(o=>{if(o.location.city){n.add(o.location.city);return}if(!o.location.city&&o.location.text){n.add(o.location.text);return}})}),[...n]},v=function(e){let n=new Set;return e.locations.forEach(t=>{t.location.city?n.add(t.location.city):t.location.text&&n.add(t.location.text)}),[...n]},q=(e,n)=>{let t=n.cloneNode(!0),o=t.querySelector("span"),c=t.querySelector("input");if(!(!o||!c))return o.textContent=e,c.value=e,t};})();
